<div class="totals">
    <span>Total: {{ total() | number:'1.2-2' }}</span>
  <span>Total Income: {{ positiveTotal() | number:'1.2-2' }}</span>
  <span>Total Expenditure: {{ negativeTotal() | number:'1.2-2' }}</span>
</div>

@if (lineItems().length > 0) {
<table mat-table [dataSource]="lineItems()" matSort class="mat-elevation-z2">

  <!-- ID Column -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
    <td mat-cell *matCellDef="let item">{{ item.cbId }}</td>
  </ng-container>

  <!-- Date Column -->
  <ng-container matColumnDef="date">
    <th mat-header-cell *matHeaderCellDef mat-sort-header sortAction="asc">Date</th>
    <td mat-cell *matCellDef="let item">{{ item.date | date:'dd/MM/yyyy' }}</td>
  </ng-container>

  <!-- Amount Column -->
    <ng-container matColumnDef="amount">
      <th mat-header-cell *matHeaderCellDef mat-sort-header class="amount-header">Amount</th>
      <td mat-cell *matCellDef="let item" class="amount-cell">{{ item.amount | number:'1.2-2' }}</td>
    </ng-container>

  <!-- Memo Column -->
  <ng-container matColumnDef="memo">
    <th mat-header-cell *matHeaderCellDef>Memo</th>
    <td mat-cell *matCellDef="let item">{{ item.memo }}</td>
  </ng-container>

  <!-- From/To Column -->
  <ng-container matColumnDef="to-from">
    <th mat-header-cell *matHeaderCellDef>From/To</th>
    <td mat-cell *matCellDef="let item">{{ item.to_from }}</td>
  </ng-container>

  <!-- Notes Column -->
  <ng-container matColumnDef="notes">
    <th mat-header-cell *matHeaderCellDef>Notes</th>
    <td mat-cell *matCellDef="let item">{{ item.notes }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
} @else {
   <p>No line items found for this account.</p>
}